---
//@ts-nocheck
import Layout from "../layouts/Layout.astro";
const url = "https://cbspsmpkfjialzthyppy.supabase.co/rest/v1/events?select=*";
const key =
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNic3BzbXBrZmppYWx6dGh5cHB5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQyNjc3NzIsImV4cCI6MjA1OTg0Mzc3Mn0.uT6SjEaiJR1sSTevguX9qaKc7UK3EGLiF-_PjHwOS94";

const options = {
  headers: { apikey: key },
};
const data = await fetch(url, options).then((res) => res.json());
console.log(data);
---

<Layout title="Events">
  <div class="title">
    <img
      width="923px"
      height="337px"
      src="../../public/imgs_circular_lab/titler/events-title-2.png"
      alt=""
    />
  </div>
  <h1>2025</h1>

  {
    data.map((event) => (
      <article class="event_card">
        <div class="vl" />
        <div class="event_card_wrapper">
          <div>
            <div class="event_text_wrapper">
              <div class="event_essentials">
                <h2>{event.event_title}</h2>
                <p>
                  <input id="MyDate" type="date" value={event.event_date} />
                </p>

                <p>
                  {event.event_start} - {event.event_end}
                </p>
              </div>
              <div class="event_description">
                <p>{event.event_description}</p>

                <a href={`/events/${event.event_slug}`}>
                  <div class="arrow_container">
                    LÃ¦s mere
                    <img
                      width="
                      35px"
                      height="19px"
                      src="../../public/imgs_circular_lab/arrow_button.svg"
                      alt=""
                    />
                  </div>
                </a>
              </div>
            </div>
          </div>

          <img
            class="event_card_img"
            width="241px"
            height="197px"
            src={`/imgs_circular_lab/${event.event_img01}`}
            alt=""
          />
        </div>
      </article>
    ))
  }
</Layout>
